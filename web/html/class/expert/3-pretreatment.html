<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="../../../assets/layui/css/layui.css" rel="stylesheet">
    <link href="../../../assets/css/class/course.css" rel="stylesheet">
</head>
<body>
    <div class="course">
        <div class="course-inner">
            <div class="layui-row nav">
                <a class="nav-font-pre" href="/page_write"><i class="layui-icon layui-icon-left"></i>C 文件读写</a>
                <a class="nav-font-next" href="/page_titleFont">C 头文件<i class="layui-icon layui-icon-right"></i></a>
            </div>
            <div class="course-main">
                <div>
                    <h1>C <span class="course-main-h1">预处理</span></h1>
                    <p><b>C 预处理器</b>不是编译器的组成部分，但是它是编译过程中一个单独的步骤。简言之，C 预处理器只不过是一个文本替换工具而已，它们会指示编译器在实际编译之前完成所需的预处理。我们将把 C 预处理器（C Preprocessor）简写为 CPP。</p>
                    <p>所有的预处理器命令都是以井号（#）开头。它必须是第一个非空字符，为了增强可读性，预处理器指令应从第一列开始。下面列出了所有重要的预处理器指令：</p>
                    <table class="layui-table">
                        <tbody>
                        <tr>
                            <th>指令</th>
                            <th>描述</th>
                        </tr>
                        <tr>
                            <td>#define</td>
                            <td>定义宏</td>
                        </tr>
                        <tr>
                            <td>#include</td>
                            <td>包含一个源代码文件</td>
                        </tr>
                        <tr>
                            <td>#undef</td>
                            <td>取消已定义的宏</td>
                        </tr>
                        <tr>
                            <td>#ifdef</td>
                            <td>如果宏已经定义，则返回真</td>
                        </tr>
                        <tr>
                            <td>#ifndef</td>
                            <td>如果宏没有定义，则返回真</td>
                        </tr>
                        <tr>
                            <td>#if</td>
                            <td>如果给定条件为真，则编译下面代码</td>
                        </tr>
                        <tr>
                            <td>#else</td>
                            <td>#if 的替代方案</td>
                        </tr>
                        <tr>
                            <td>#elif</td>
                            <td>如果前面的 #if 给定条件不为真，当前条件为真，则编译下面代码</td>
                        </tr>
                        <tr>
                            <td>#endif</td>
                            <td>结束一个 #if……#else 条件编译块</td>
                        </tr>
                        <tr>
                            <td>#error</td>
                            <td>当遇到标准错误时，输出错误消息</td>
                        </tr>
                        <tr>
                            <td>#pragma</td>
                            <td>使用标准化方法，向编译器发布特殊的命令到编译器中</td>
                        </tr>
                        </tbody>
                    </table>
                    <hr class="layui-bg-gray">

                    <h2>预处理器实例</h2>
                    <p>分析下面的实例来理解不同的指令。</p>
                    <blockquote class="layui-elem-quote code">
                        <div class="code-div">
                            <p>#define MAX_ARRAY_LENGTH 20</p>
                        </div>
                    </blockquote>
                    <p>这个指令告诉 CPP 把所有的 MAX_ARRAY_LENGTH 替换为 20。使用 <i>#define</i> 定义常量来增强可读性。</p>
                    <blockquote class="layui-elem-quote code">
                        <div class="code-div">
                            <p>#include &lt;stdio.h></p>
                            <p>#include "myheader.h"</p>
                        </div>
                    </blockquote>
                    <p>这些指令告诉 CPP 从<b>系统库</b>中获取 stdio.h，并添加文本到当前的源文件中。下一行告诉 CPP 从本地目录中获取 <b>myheader.h</b>，并添加内容到当前的源文件中。</p>
                    <blockquote class="layui-elem-quote code">
                        <div class="code-div">
                            <p>#undef  FILE_SIZE</p>
                            <p>#define FILE_SIZE 42</p>
                        </div>
                    </blockquote>
                    <p>这个指令告诉 CPP 取消已定义的 FILE_SIZE，并定义它为 42。</p>
                    <blockquote class="layui-elem-quote code">
                        <div class="code-div">
                            <p>#ifndef MESSAGE</p>
                            <p>&nbsp;&nbsp; #define MESSAGE "You wish!"</p>
                            <p>#endif</p>
                        </div>
                    </blockquote>
                    <p>这个指令告诉 CPP 只有当 MESSAGE 未定义时，才定义 MESSAGE。</p>
                    <blockquote class="layui-elem-quote code">
                        <div class="code-div">
                            <p>#ifdef DEBUG</p>
                            <p>&nbsp;&nbsp;/* Your debugging statements here */</p>
                            <p>#endif</p>
                        </div>
                    </blockquote>
                    <p>这个指令告诉 CPP 如果定义了 DEBUG，则执行处理语句。在编译时，如果您向 gcc 编译器传递了 <i>-DDEBUG</i> 开关量，这个指令就非常有用。它定义了 DEBUG，您可以在编译期间随时开启或关闭调试。</p>
                    <hr class="layui-bg-gray">

                    <h2>预定义宏</h2>
                    <p>ANSI C 定义了许多宏。在编程中您可以使用这些宏，但是不能直接修改这些预定义的宏。</p>
                    <table class="layui-table">
                        <tbody>
                        <tr>
                            <th>宏</th>
                            <th>描述</th>
                        </tr>
                        <tr>
                            <td>__DATE__</td>
                            <td>当前日期，一个以 "MMM DD YYYY" 格式表示的字符常量。</td>
                        </tr>
                        <tr>
                            <td>__TIME__</td>
                            <td>当前时间，一个以 "HH:MM:SS" 格式表示的字符常量。</td>
                        </tr>
                        <tr>
                            <td>__FILE__</td>
                            <td>这会包含当前文件名，一个字符串常量。</td>
                        </tr>
                        <tr>
                            <td>__LINE__</td>
                            <td>这会包含当前行号，一个十进制常量。</td>
                        </tr>
                        <tr>
                            <td>__STDC__</td>
                            <td>当编译器以 ANSI 标准编译时，则定义为 1。</td>
                        </tr>
                        </tbody>
                    </table>
                    <hr class="layui-bg-gray">

                    <h2>预处理器运算符</h2>
                    <p>C 预处理器提供了下列的运算符来帮助您创建宏：</p>
                    <h5>宏延续运算符（\）</h5>
                    <p>一个宏通常写在一个单行上。但是如果宏太长，一个单行容纳不下，则使用宏延续运算符（\）。例如：</p>
                    <blockquote class="layui-elem-quote code">
                        <div class="code-div">
                            <p>#define  message_for(a, b)  \</p>
                            <p>&nbsp;&nbsp;printf(#a " and " #b ": We love you!\n")</p>
                        </div>
                    </blockquote>
                </div>
            </div>
            <div class="layui-row nav">
                <a class="nav-font-pre" href="/page_write"><i class="layui-icon layui-icon-left"></i>C 文件读写</a>
                <a class="nav-font-next" href="/page_titleFont">C 头文件<i class="layui-icon layui-icon-right"></i></a>
            </div>
        </div>
    </div>
    <!--        笔记栏目-->
    <div class="note" id="26">
        <div class="layui-btn layui-btn-warm note-info" style="float:left;">查看笔记&nbsp;&nbsp;<i class="layui-icon layui-icon-read"></i></div>
        <div class="layui-btn layui-btn-warm note-add" style="float:right;">写笔记&nbsp;&nbsp;<i class="layui-icon layui-icon-note"></i></div>
    </div>

    <script src="../../../assets/layui/layui.js"></script>
    <script src="../../../assets/js/class/course.js"></script>
</body>
</html>