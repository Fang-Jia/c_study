<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="../../../assets/layui/css/layui.css" rel="stylesheet">
    <link href="../../../assets/css/class/course.css" rel="stylesheet">
</head>
<body>
    <div class="course">
        <div class="course-inner">
            <div class="layui-row nav">
                <a class="nav-font-pre" href="/page_pointer"><i class="layui-icon layui-icon-left"></i>C 指针</a>
                <a class="nav-font-next" href="/page_str">C 字符串<i class="layui-icon layui-icon-right"></i></a>
            </div>
            <div class="course-main">
                <div>
                    <h1>C <span class="course-main-h1">函数指针</span></h1>
                    <p>函数指针是指向函数的指针变量。</p>
                    <p>通常我们说的指针变量是指向一个整型、字符型或数组等变量，而函数指针是指向函数。</p>
                    <p>函数指针可以像一般函数一样，用于调用函数、传递参数。</p>
                    <p>函数指针变量的声明：</p>
                    <blockquote class="layui-elem-quote code">
                        <div class="code-div">
                            <p>typedef int (*fun_ptr)(int,int); // 声明一个指向同样参数、返回值的函数指针类型</p>
                        </div>
                    </blockquote>
                    <h3>实例</h3>
                    <p>以下实例声明了函数指针变量 p，指向函数 max：</p>
                    <blockquote class="layui-elem-quote code">
                        <p style="color:#617f10;">实例</p>
                        <hr class="layui-bg-cyan">
                        <div class="code-div">
                            <p>#include &nbsp;<span class="code-brown">&lt;stdio.h></span></p>
                            <p>int <span class="code-blue">max</span>(int <span class="code-blue">x</span>, <span class="code-blue">y</span>)</p>
                            <p>{</p>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-green">return</span>&nbsp;&nbsp;<span class="code-blue">x</span>&nbsp;&nbsp;>&nbsp;&nbsp;<span class="code-blue">y</span>&nbsp;&nbsp;?&nbsp;&nbsp;<span class="code-blue">x</span>&nbsp;&nbsp;:&nbsp;&nbsp;<span class="code-blue">y</span>;</p>
                            <p>}</p>
                            <p>int <span class="code-blue">main</span>(void)</p>
                            <p>{</p>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;/* p 是函数指针 */</p>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;int(* <span class="code-blue">p</span>)(int, int)&nbsp;&nbsp;=&nbsp;&nbsp;& <span class="code-blue">max</span>;&nbsp;&nbsp;&nbsp;&nbsp;// &可以省略</p>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;&nbsp;<span class="code-blue">a</span>,&nbsp;&nbsp;<span class="code-blue">b</span>,&nbsp;&nbsp;<span class="code-blue">c</span>,&nbsp;&nbsp;<span class="code-blue">d</span>;</p>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-blue">printf</span>(<span class="code-brown">"请输入三个数字:"</span>);</p>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-blue">scanf</span>(<span class="code-violet">"%d %d %d"</span>, &<span class="code-blue">a</span>, &<span class="code-blue">b</span>, &<span class="code-blue">c</span>);</p>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;/* 与直接调用函数等价，d = max(max(a, b), c) */</p>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-blue">d</span>&nbsp;&nbsp;=&nbsp;&nbsp;<span class="code-blue">p</span>(<span class="code-blue">p</span>(<span class="code-blue">a</span>, <span class="code-blue">b</span>), <span class="code-blue">c</span>);</p>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-blue">printf</span>(<span class="code-violet">"最大的数字是: %d\n"</span>, <span class="code-blue">d</span>);</p>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-green">return</span> <span class="code-brown">0</span>;</p>
                            <p>}</p>
                        </div>
                    </blockquote>
                    <p>编译执行，输出结果如下：</p>
                    <blockquote class="layui-elem-quote code">
                        <div class="code-div">
                            <p>请输入三个数字:1 2 3</p>
                            <p>最大的数字是: 3</p>
                        </div>
                    </blockquote>
                    <hr class="layui-bg-gray">

                    <h2>回调函数</h2>
                    <h3>函数指针作为某个函数的参数</h3>
                    <p>函数指针变量可以作为某个函数的参数来使用的，回调函数就是一个通过函数指针调用的函数。</p>
                    <p>简单讲：回调函数是由别人的函数执行时调用你实现的函数。</p>
                    <p>以下是来自知乎作者常溪玲的解说：</p>
                    <p>你到一个商店买东西，刚好你要的东西没有货，于是你在店员那里留下了你的电话，过了几天店里有货了，店员就打了你的电话，然后你接到电话后就到店里去取了货。在这个例子里，你的电话号码就叫回调函数，你把电话留给店员就叫登记回调函数，店里后来有货了叫做触发了回调关联的事件，店员给你打电话叫做调用回调函数，你到店里去取货叫做响应回调事件。</p>

                </div>
            </div>
            <div class="layui-row nav">
                <a class="nav-font-pre" href="/page_pointer"><i class="layui-icon layui-icon-left"></i>C 指针</a>
                <a class="nav-font-next" href="/page_str">C 字符串<i class="layui-icon layui-icon-right"></i></a>
            </div>
        </div>
    </div>
    <!--        笔记栏目-->
    <div class="note" id="18">
        <div class="layui-btn layui-btn-warm note-info" style="float:left;">查看笔记&nbsp;&nbsp;<i class="layui-icon layui-icon-read"></i></div>
        <div class="layui-btn layui-btn-warm note-add" style="float:right;">写笔记&nbsp;&nbsp;<i class="layui-icon layui-icon-note"></i></div>
    </div>

    <script src="../../../assets/layui/layui.js"></script>
    <script src="../../../assets/js/class/course.js"></script>
</body>
</html>